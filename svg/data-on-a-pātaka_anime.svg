<svg id="data-on-a-pātaka"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     viewBox="-300 0 1300 1000"
     width="1000px" height="769px">

  <metadata>
    <rdf:RDF>
       <cc:Work>
          <dc:format>image/svg+xml</dc:format>
          <dc:type rdf:resource="http://purl.org/dc/dcmitype/MovingImage" />
          <cc:license rdf:resource="http://creativecommons.org/licenses/by-sa/4.0/" />
          <dc:creator>
             <cc:Agent>
                <dc:title>Sam Muirhead</dc:title>
             </cc:Agent>
          </dc:creator>
          <dc:source>https://github.com/ssbc/visual-docs/</dc:source>
       </cc:Work>
       <cc:License rdf:about="http://creativecommons.org/licenses/by-sa/4.0/">
          <cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction"/>
          <cc:permits rdf:resource="http://creativecommons.org/ns#Distribution"/>
          <cc:requires rdf:resource="http://creativecommons.org/ns#Notice"/>
          <cc:requires rdf:resource="http://creativecommons.org/ns#Attribution"/>
          <cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks"/>
          <cc:requires rdf:resource="http://creativecommons.org/ns#ShareAlike"/>
       </cc:License>
    </rdf:RDF>
  </metadata>

  <title>Data on a Pātaka</title>

  <style>
    /* <![CDATA[ */
    @import url('https://fonts.googleapis.com/css2?family=Dosis&display=swap');
    :root {
      --group-b-outline: hsl(42, 80%, 20%);
      --group-b-color: hsl(42, 74.9%, 56.3%);
      --group-b-highlight: hsl(42, 90%, 75%);
      --group-b-tint: hsl(42, 90%, 95%);

      --group-a-outline: hsl(180, 25.4%, 24.7%);
      --group-a-color: hsl(182, 25.5%, 50%);
      --group-a-highlight: hsl(182, 55%, 75%);
      --group-a-tint: hsl(182, 95%, 95%);
      --group-a-medium-tint: hsl(182, 30%, 65%);

      --group-c-outline: hsl(360, 85%, 22%);
      --group-c-symbol-color: hsl(360, 65.4%, 42%);
      --group-c-color: hsl(360, 70%, 60%);
      --group-c-files: hsl(360, 65.4%, 52%);
      --group-c-highlight: hsl(360, 85%, 75%);
      --group-c-tint: hsl(0, 85%, 95%);

      --pātaka-color: hsl(360, 65.4%, 42%);
      --pātaka-label-color: hsl(360, 65.4%, 52%);

      --icon-bg-color: hsl(180, 25.4%, 40%);
      --outline-color: hsl(0, 0%, 22%);
      --white: hsl(0, 0%, 100%);
      --mid-grey: hsl(0, 0%, 41.2%);
      --mid-light-grey: hsl(0, 0%, 60%);
      --encrypted-color: hsl(0, 0%, 80%);
      --light-grey: hsl(0, 0%, 90%);
      --devices-color: hsl(0, 0%, 29.8%);
      --pounamu: hsl(118, 100.0%, 9.4%);
    }
    /* ]]> */
  </style>

  <defs>
    <g id="file-copy">
      <path fill="var(--mid-light-grey)"
            d="M770.7 220.6H728v-42.8h42.8z"/>
      <path d="M770.7 220.6H728v-42.8h42.8zm6.1-42.8c0-3.4-2.7-6.1-6-6.1h-42.9a6.1 6.1 0 00-6 6v42.9c0 3.3 2.7 6 6 6h42.8c3.4 0 6.1-2.7 6.1-6z"/>
    </g>
    <g id="image-file"
       stroke-width="4">
      <path d="M4 2h28c1,0 2,1 2,2
            v28c0 1-1 2-2 2
            h-28c-1,0 -2,-1 -2-2
            v-28c0-1 1-2 2-2z"/>
      <path fill="none"
            d="M10 26l2-2.5 2.1 2.5zM18.4 26l3.8-5 3.8 5z"/>
    </g>
    <g id="encrypted-file"
       stroke-width="4"
       fill="var(--encrypted-color)">
      <path d="M4 2h28c1,0 2,1 2,2
            v28c0 1-1 2-2 2
            h-28c-1,0 -2,-1 -2-2
            v-28c0-1 1-2 2-2z"/>
    </g>
    <g id="text-file"
       stroke-width="4">
      <path d="M4 2h18c.5 0 1.3.3 1.5.5l10 10c.4.4.5.9.5 1.5v18c0 1-1 2-2 2h-28c-1,0 -2,-1 -2-2v-28c0-1.2.8-2 2-2z"/>
      <path d="M8 10h14
               m-14 8h20
               m-20 8h20"/>
    </g>
    <filter id="highlight-blur"
            x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="6" />
    </filter>
  </defs>

  <g id="everything"
     opacity="1">

    <g id="iphone">
      <rect id="i-base"
            width="160.5" height="328" x="635.7" y="126" ry="19.1"
            fill="none" stroke="var(--outline-color)" stroke-width="7" />
      <rect id="i-inner-edge"
            width="157" height="324.5" x="637.5" y="127.7" ry="18.8"
            fill="var(--devices-color)" stroke="var(--devices-color)" stroke-width="3.5" />
      <path id="i-screen"
            fill="var(--white)" stroke-width="3.5"
            d="M642.7 147a14 14 0 0114-13.8H674s.2 12 10.5 12h62.8c10.3 0 10.5-12 10.5-12h17.4c7.4 0 14 5.1 14 13.7v284.5c0 9.8-5.1 16.2-18.3 16.2H661c-13.7 0-18.3-6-18.3-16.2z"/>
      <circle id="i-camera"
              cx="734.7" cy="136.9" r="3.5"
              fill="var(--white)" stroke-width="3.5"/>
      <path id="i-speaker"
            stroke="var(--mid-light-grey)" stroke-width="3.5"
            d="M709 136h14"/>

      <g id="a-files-iphone"
        fill="var(--group-a-tint)" stroke="var(--group-a-color)">
        <use id="a1-iphone"
             xlink:href="#text-file" x="656" y="170" />
        <use id="a2-iphone"
             xlink:href="#image-file" x="696" y="170"/>
        <use id="a3-iphone"
             xlink:href="#image-file" x="736" y="170"/>
      </g>

      <g id="b-files-iphone"
         fill="var(--group-b-tint)" stroke="var(--group-b-color)">
        <use id="b1-iphone"
              xlink:href="#text-file" x="656" y="212"/>
        <use id="b2-iphone"
            xlink:href="#image-file" x="696" y="212"/>
        <use id="b3-iphone"
             xlink:href="#image-file" x="736" y="212" />
        <use id="b4-iphone"
            xlink:href="#text-file" x="656" y="254" />
        <use id="b5-iphone"
             xlink:href="#text-file" x="696" y="254" />
      </g>

      <g id="locked-files-iphone">
        <!-- sync 1 iphone -->
        <!-- c1, a1, b1, b2, c2, c3 -->
        <use id="c1-iphone-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="656" y="392"
             style="transform-origin:640px 300px 0px;"/>
        <rect id="a1-iphone-highlight"
           x="694" y="390" width="40" height="40"
           fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
           style="transform-origin: 714px 410px 0px; transform: scale(0);"/>
        <use id="a1-iphone-locked"
             stroke="var(--group-a-color)"
             xlink:href="#encrypted-file" x="696" y="392"
             style="transform-origin:640px 300px 0px;"/>
        <rect id="b1-iphone-highlight"
          x="694" y="390" width="40" height="40"
          fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
          style="transform-origin: 714px 410px 0px; transform: scale(0);"/>
        <use id="b1-iphone-locked"
             stroke="var(--group-b-color)"
             xlink:href="#encrypted-file" x="736" y="392"
             style="transform-origin:640px 300px 0px;"/>
        <rect id="b2-iphone-highlight"
          x="734" y="390" width="40" height="40"
          fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
          style="transform-origin: 754px 410px 0px; transform: scale(0);"/>
        <use id="b2-iphone-locked"
             stroke="var(--group-b-color)"
             xlink:href="#encrypted-file" x="656" y="350"
             style="transform-origin:640px 300px 0px;"/>
        <use id="c2-iphone-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="696" y="350"
             style="transform-origin:640px 300px 0px;"/>
        <use id="c3-iphone-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="736" y="350"
             style="transform-origin:640px 300px 0px;"/>

        <!-- sync 2 iphone -->
        <!-- a2, b3, b4, c4, b5, a3 -->
        <rect id="a2-iphone-highlight"
              x="654" y="348" width="40" height="40"
              fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 674px 368px 0px; transform: scale(0);"/>
        <use id="a2-iphone-locked"
             stroke="var(--group-a-color)"
             xlink:href="#encrypted-file" x="656" y="350"
             style="transform-origin:640px 300px 0px;"/>
        <rect id="b3-iphone-highlight"
              x="654" y="348" width="40" height="40"
              fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 674px 368px 0px; transform: scale(0);"/>
        <use id="b3-iphone-locked"
            stroke="var(--group-b-color)"
            xlink:href="#encrypted-file" x="696" y="350"
            style="transform-origin:640px 300px 0px;"/>
        <rect id="b4-iphone-highlight"
              x="694" y="348" width="40" height="40"
              fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 714px 368px 0px; transform: scale(0);"/>
        <use id="b4-iphone-locked"
            stroke="var(--group-b-color)"
            xlink:href="#encrypted-file" x="736" y="350"
            style="transform-origin:640px 300px 0px;"/>
        <use id="c4-iphone-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="656" y="308"
             style="transform-origin:640px 300px 0px;"/>
        <rect id="b5-iphone-highlight"
             x="654" y="306" width="40" height="40"
             fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
             style="transform-origin: 674px 326px 0px; transform: scale(0);"/>
        <use id="b5-iphone-locked"
           stroke="var(--group-b-color)"
           xlink:href="#encrypted-file" x="696" y="308"
           style="transform-origin:640px 300px 0px;"/>
        <rect id="a3-iphone-highlight"
              x="734" y="306" width="40" height="40"
              fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 754px 326px 0px; transform: scale(0);"/>
        <use id="a3-iphone-locked"
             stroke="var(--group-a-color)"
             xlink:href="#encrypted-file" x="736" y="308"
             style="transform-origin:640px 300px 0px;"/>
       </g>

       <g id="sync-1a-overlay"
          stroke="var(--light-grey)" style="opacity:0;">
          <use xlink:href="#encrypted-file" x="656" y="392"/>
          <use xlink:href="#encrypted-file" x="736" y="392"/>
          <use xlink:href="#encrypted-file" x="656" y="350"/>
          <use xlink:href="#encrypted-file" x="696" y="350"/>
          <use xlink:href="#encrypted-file" x="736" y="350"/>
       </g>

       <g id="sync-1b-overlay"
          stroke="var(--light-grey)" style="opacity:0;">
          <use xlink:href="#encrypted-file" x="656" y="392"/>
          <use xlink:href="#encrypted-file" x="656" y="350"/>
          <use xlink:href="#encrypted-file" x="696" y="350"/>
       </g>

       <g id="sync-2a-overlay"
          stroke="var(--light-grey)" style="opacity:0;">
          <use xlink:href="#encrypted-file" x="656" y="392"/>
          <use xlink:href="#encrypted-file" x="696" y="392"/>
          <use xlink:href="#encrypted-file" x="736" y="392"/>
          <use xlink:href="#encrypted-file" x="696" y="350"/>
          <use xlink:href="#encrypted-file" x="736" y="350"/>
          <use xlink:href="#encrypted-file" x="656" y="308"/>
          <use xlink:href="#encrypted-file" x="696" y="308"/>
       </g>

       <g id="sync-2b-overlay"
          stroke="var(--light-grey)" style="opacity:1;">
          <use xlink:href="#encrypted-file" x="656" y="392"/>
          <use xlink:href="#encrypted-file" x="696" y="392"/>
          <use xlink:href="#encrypted-file" x="736" y="392"/>
          <use xlink:href="#encrypted-file" x="736" y="350"/>
       </g>

    </g>

    <g id="android">
      <rect id="a-base"
            width="161" height="329" x="635.5" y="545" ry="16.8"
            fill="none" stroke="var(--outline-color)" stroke-width="7" />
      <rect id="a-inner-edge"
            width="157.5" height="325.5" x="637.3" y="546.8" ry="15.4"
            fill="var(--devices-color)" stroke="var(--devices-color)" stroke-width="3.5"/>
      <path fill="var(--white)"
            stroke-width="3.5"
            d="M639 562.5h154v280H639z"/>
      <circle id="a-camera"
              cx="779" cy="552" r="3.5"
              fill="var(--white)" stroke-width="3.5"/>
      <path id="a-speaker"
            stroke="var(--mid-light-grey)" stroke-width="3.5"
            d="M709 550.3h14"/>
      <path id="a-microphone"
            stroke="var(--mid-light-grey)" stroke-width="3.5"
            d="M695 858.3h42"/>

      <g id="c-files-android"
         fill="var(--group-c-tint)" stroke="var(--group-c-color)">
        <use id="c1-android"
            xlink:href="#image-file" x="656" y="582" />
        <use id="c2-android"
             xlink:href="#image-file" x="696" y="582" />
        <use id="c3-android"
            xlink:href="#text-file" x="736" y="582" />
      </g>

      <g id="locked-files-android">
        <rect id="c1-android-highlight"
           x="654" y="790" width="40" height="40"
           fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
           style="transform-origin: 674px 810px 0px; transform: scale(0);"/>
        <use id="c1-android-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="656" y="792"
             style="transform-origin:640px 680px 0px;"/>
        <use id="a1-android-locked"
             stroke="var(--group-a-color)"
             xlink:href="#encrypted-file" x="696" y="792"
             style="transform-origin:640px 680px 0px;"/>
        <use id="b1-android-locked"
             stroke="var(--group-b-color)"
             xlink:href="#encrypted-file" x="736" y="792"
             style="transform-origin:640px 680px 0px;"/>
        <use id="b2-android-locked"
             stroke="var(--group-b-color)"
             xlink:href="#encrypted-file" x="656" y="750"
             style="transform-origin:640px 680px 0px;"/>
        <rect id="c2-android-highlight"
          x="694" y="748" width="40" height="40"
          fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
          style="transform-origin: 714px 768px 0px; transform: scale(0);"/>
        <use id="c2-android-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="696" y="750"
             style="transform-origin:640px 680px 0px;"/>
        <rect id="c3-android-highlight"
          x="734" y="748" width="40" height="40"
          fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
          style="transform-origin: 754px 768px 0px; transform: scale(0);"/>
        <use id="c3-android-locked"
             stroke="var(--group-c-color)"
             xlink:href="#encrypted-file" x="736" y="750"
             style="transform-origin:640px 680px 0px;"/>
      </g>

      <g id="sync-1c-overlay"
         stroke="var(--light-grey)">
        <use xlink:href="#encrypted-file" x="696" y="792"/>
        <use xlink:href="#encrypted-file" x="736" y="792"/>
        <use xlink:href="#encrypted-file" x="656" y="750"/>
      </g>

    </g>

    <g id="keys">
      <path id="key-a"
            fill="none" stroke="var(--group-a-color)"
            stroke-linecap="butt" stroke-linejoin="round" stroke-width="10"
            style="transform-origin: 890px 232.5px 0px;"
            d="M872.7 232.5v12.7m33.6-12.7h-48.5v12.8
            m77.1-12.8c0 8.4-6.4 15.2-14.3 15.2-8 0-14.3-6.8-14.3-15.2 0-8.4 6.4-15.2 14.3-15.2 8 0 14.3 6.8 14.3 15.2z"/>
      <path id="key-b"
            fill="none" stroke="var(--group-b-color)"
            stroke-linecap="butt" stroke-linejoin="round" stroke-width="10"
            style="transform-origin: 890px 299px 0px;"
            d="M872.7 299v12.7m33.6-12.7h-48.5v12.8m77.1-12.8c0 8.4-6.4 15.2-14.3 15.2-8 0-14.3-6.8-14.3-15.2 0-8.4 6.4-15.2 14.3-15.2 8 0 14.3 6.8 14.3 15.2z"/>
      <path id="key-c"
            fill="none" stroke="var(--group-c-symbol-color)"
            stroke-linecap="butt" stroke-linejoin="round" stroke-width="10"
            style="transform-origin: 890px 642.5px 0px;"
            d="M872.7 642.5v12.7m33.6-12.7h-48.5v12.8m77.1-12.8c0 8.4-6.4 15.2-14.3 15.2-8 0-14.3-6.8-14.3-15.2 0-8.4 6.4-15.2 14.3-15.2 8 0 14.3 6.8 14.3 15.2z" />
    </g>

    <g id="pātaka-imac">

      <g id="imac-stand">
        <path fill="var(--devices-color)"
              d="M295.2 644.6H154.7c15.7-14.6 23.6-22.5 23.6-38.3 0-23.6-7.9-23.6-7.9-23.6H280s-7.9 0-7.9 23.6c0 15.8 7.9 23.7 22.5 38.3z"/>
        <path fill="var(--mid-grey)"
              d="M157.5 643.5c13.5-13.5 15.7-16.9 20.8-29.3 31.5 23 61.8 23 93.3 0 4.5 13.5 6.2 14 21.3 29.3z"/>
        <path fill="none" stroke="var(--outline-color)"
              stroke-linejoin="round" stroke-width=".5"
              d="M295.2 644.6H154.7c15.7-14.6 23.6-22.5 23.6-38.3 0-23.6-7.9-23.6-7.9-23.6H280s-7.9 0-7.9 23.6c0 15.8 7.9 23.7 22.5 38.3z"/>
      </g>

      <rect width="398.9" height="243.1" x="25.5" y="355.4" rx="15.7" ry="15.8"
            fill="var(--devices-color)" stroke="var(--outline-color)"
            stroke-linecap="round" stroke-linejoin="round" stroke-width=".5" />
      <circle cx="228.3" cy="363.3" r="3.9"
              fill="var(--mid-grey)"/>
      <rect id="imac-screen"
            width="383.2" height="203.7" x="33.4" y="371.1"
            fill="var(--white)" />

      <g id="pātaka-symbol"
         fill="var(--pātaka-color)" stroke="var(--outline-color)"
         stroke-linecap="round" stroke-linejoin="round" stroke-width=".4" transform="translate(168, 410) scale(2.5)">
        <path	d="M5.3 39.6v-10.8l-4.4 4.3-4.3-4.3 25-25v-5.4h2.1v5.4l25 25-4.3 4.3-4.2-4.1-.2 10.6h-4.3v-15.2l-13-13-13 13v15.2z"/>
        <path	d="M9.6 50.5v-8.7h-8.7v-2.2h43.5v2.2h-8.7v8.7h-2.2v-8.7h-21.7v8.7z"/>
      </g>

      <g id="pātaka-files">

        <defs>

          <g id="pātaka-file">
            <path d="M151 489h-32.1v-32h32zm4.6-32c0-2.6-2.1-4.6-4.6-4.6h-32.1c-2.5 0-4.6 2-4.6 4.5V489c0 2.6 2 4.6 4.6 4.6h32c2.6 0 4.7-2 4.7-4.6z"/>
            <path fill="var(--encrypted-color)"
                d="M151 489h-32.1v-32h32z"/>
          </g>

        </defs>

        <g id="group-a-files"
           fill="var(--group-a-color)">
          <use id="a1-copy-to-iphone"
               xlink:href="#a1"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="a1-copy-to-android"
               xlink:href="#a1"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="a1-highlight"
               x="111" y="449" width="48" height="48"
               fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
               style="transform-origin: 135px 473px 0px; transform: scale(0);"/>
          <use id="a1"
               xlink:href="#pātaka-file" x="0" y="0"
               style="transform-origin: 75px 354px 0px;" />
          <use id="a2-copy-to-iphone"
              xlink:href="#a2"
              style="transform-origin: 424px 372px 0px;"
              opacity="0.5"/>
          <use id="a2-copy-to-android"
              xlink:href="#a2"
              style="transform-origin:424px 555px 0px;"
              opacity="0.5"/>
          <rect id="a2-highlight"
                x="231" y="394" width="48" height="48"
                fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 255px 418px 0px; transform: scale(0);"/>
          <use id="a2" xlink:href="#pātaka-file" x="120" y="-55"
               style="transform-origin: 206px 370px 0px;" />
          <!-- ↓ a3 moved below group-c-files ↓ -->
        </g>

        <g id="group-b-files"
           fill="var(--group-b-color)">
          <use id="b1-copy-to-iphone"
              xlink:href="#b1"
              style="transform-origin: 424px 372px 0px;"
              opacity="0.5"/>
          <use id="b1-copy-to-android"
              xlink:href="#b1"
              style="transform-origin:424px 555px 0px;"
              opacity="0.5"/>
          <rect id="b1-highlight"
              x="111" y="504" width="48" height="48"
              fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 135px 528px 0px; transform: scale(0);"/>
          <use id="b1"
               xlink:href="#pātaka-file" x="0" y="55"
               style="transform-origin: -67px 435px 0px;" />
          <use id="b2-copy-to-iphone"
              xlink:href="#b2"
              style="transform-origin: 424px 372px 0px;"
              opacity="0.5"/>
          <use id="b2-copy-to-android"
              xlink:href="#b2"
              style="transform-origin:424px 555px 0px;"
              opacity="0.5"/>
          <rect id="b2-highlight"
              x="171" y="394" width="48" height="48"
              fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 195px 418px 0px; transform: scale(0);"/>
          <use id="b2"
              xlink:href="#pātaka-file" x="60" y="-55"
              style="transform-origin: -36px 450px 0px;" />
          <use id="b3-copy-to-iphone"
             xlink:href="#b3"
             style="transform-origin: 424px 372px 0px;"
             opacity="0.5"/>
          <use id="b3-copy-to-android"
             xlink:href="#b3"
             style="transform-origin:424px 555px 0px;"
             opacity="0.5"/>
          <rect id="b3-highlight"
                x="231" y="449" width="48" height="48"
                fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 255px 473px 0px; transform: scale(0);"/>
          <use id="b3"
               style="transform-origin: 32px 475px 0px"
               xlink:href="#pātaka-file" x="120" y="0" />
          <use id="b4-copy-to-iphone"
               xlink:href="#b4"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="b4-copy-to-android"
               xlink:href="#b4"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="b4-highlight"
                   x="231" y="504" width="48" height="48"
                   fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
                   style="transform-origin: 255px 528px 0px; transform: scale(0);"/>
          <use id="b4"
               xlink:href="#pātaka-file" x="120" y="55"
               style="transform-origin: 32px 569px 0px"/>
          <!-- ↓ b5 moved below group-c-files ↓ -->
        </g>

        <g id="group-c-files"
           fill="var(--group-c-files)">

          <use id="c1-copy-to-iphone"
               xlink:href="#c1"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="c1-copy-to-android"
               xlink:href="#c1"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="c1-highlight"
                x="111" y="394" width="48" height="48"
                fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 135px 418px 0px; transform: scale(0);" />
          <use id="c1"
               xlink:href="#pātaka-file" x="0" y="-55"
               style="transform-origin:71px 603px 0px;"/>

          <use id="c2-copy-to-iphone"
               xlink:href="#c2"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="c2-copy-to-android"
               xlink:href="#c2"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="c2-highlight"
                x="171" y="449" width="48" height="48"
                fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 195px 473px 0px; transform: scale(0);" />
          <use id="c2"
               xlink:href="#pātaka-file" x="60" y="0"
               style="transform-origin:190px 600px 0px;" />

          <use id="c3-copy-to-iphone"
               xlink:href="#c3"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="c3-copy-to-android"
               xlink:href="#c3"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="c3-highlight"
                x="171" y="504" width="48" height="48"
                fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 195px 528px 0px; transform: scale(0);" />
          <use id="c3"
               xlink:href="#pātaka-file" x="60" y="55"
               style="transform-origin:255px 603px 0px;" />

          <use id="c4-copy-to-iphone"
               xlink:href="#c4"
               style="transform-origin: 424px 372px 0px;"
               opacity="0.5"/>
          <use id="c4-copy-to-android"
               xlink:href="#c4"
               style="transform-origin:424px 555px 0px;"
               opacity="0.5"/>
          <rect id="c4-highlight"
                 x="291" y="394" width="48" height="48"
                 fill="var(--group-c-highlight)" filter="url(#highlight-blur)"
                 style="transform-origin: 315px 418px 0px; transform: scale(0);" />
          <use id="c4"
               xlink:href="#pātaka-file" x="180" y="-55"
               style="transform-origin: 280px 555px 0px;"/>
        </g>

        <use id="b5-copy"
             xlink:href="#b5"
             style="transform-origin: 425px 415px 0px; transform: scale(1);"
             opacity="0.5"/>
        <rect id="b5-highlight"
              x="291" y="449" width="48" height="48"
              fill="var(--group-b-highlight)" filter="url(#highlight-blur)"
              style="transform-origin: 315px 473px 0px; transform: scale(0);"/>

        <g id="b5"
           fill="var(--group-b-color)"
           style="transform-origin: 32px 395px 0px">
          <use xlink:href="#pātaka-file" x="180" y="0" />
        </g>

        <g id="a3"
           fill="var(--group-a-color)"
           style="transform-origin: 328px 370px 0px">
          <use id="a3-copy"
              xlink:href="#pātaka-file" x="180" y="55"
              style="transform-origin: 424px 372px 0px;"
              opacity="0.5"/>
          <rect id="a3-highlight"
                x="291" y="504" width="48" height="48"
                fill="var(--group-a-highlight)" filter="url(#highlight-blur)"
                style="transform-origin: 315px 528px 0px; transform: scale(0);" />
           <use xlink:href="#pātaka-file" x="180" y="55" />
        </g>

        <g id="pātaka-overlay"
           fill="var(--light-grey)" style="opacity:0;">
          <use xlink:href="#pātaka-file" x="0" y="-55"/>
          <use xlink:href="#pātaka-file" x="0" y="0"/>
          <use xlink:href="#pātaka-file" x="0" y="55"/>
          <use xlink:href="#pātaka-file" x="60" y="-55"/>
          <use xlink:href="#pātaka-file" x="60" y="0"/>
          <use xlink:href="#pātaka-file" x="60" y="55"/>
        </g>

      </g>

    </g>

    <g id="groups">
      <defs id="group-icons">
        <g id="laptop"
           style="transform-origin:24px 24px 0px;" transform="scale(2.5)"
           stroke-width=".5" stroke-linejoin="round" stroke-linecap="butt" >
          <path id="laptop-screen-bg"
                 stroke="none"
                 d="M42.42 32.2V10.36a.29.29 0 00-.29-.29H5.87a.29.29 0 00-.29.29v21.82z"/>
          <path id="laptop-screen-bg"
                stroke="none" fill="var(--outline-color)" fill-opacity=".2"
                d="M42.42 32.2V10.36a.29.29 0 00-.29-.29H5.87a.29.29 0 00-.29.29v21.82z"/>
          <path id="laptop-keyboard-bg"
                stroke="none"
                d="M5.58 32.2l-5.61 4.7V38H47.5v-1l-5.36-4.52z"/>
          <rect id="laptop-screen"
                fill="var(--white)" fill-opacity="0.95" stroke="none"
                width="36" height="17.67" x="6" y="13"/>
          <circle id="laptop-camera"
                  fill="var(--mid-light-grey)"
                  cx="24" cy="11.5" r=".25" />
          <path id="laptop-keyboard"
                fill="none" stroke-width=".25"
                d="M6 34.13h36 M7 33.13h33.99 M5 35.13h12m14.04 0H43 M17.76 35.13h12.5l1.24 2h-15z"/>
          <path id="laptop-front-edge"
                fill="none" stroke-width=".5"
                d="M47.5 37.25H.5"/>
          <path id="laptop-edge-shadow"
                fill="none" stroke="var(--outline-color)" opacity=".2"
                d="M47.5 37.75H.5"/>
          <path id="laptop-outline"
                fill="none" stroke="var(--outline-color)"
                d="M.25 36.88 v1.37 h47.5 v-1.38 l-5.5-4.37 v-22 c0-.16-.1-.25-.25-.25 H6 c-.16 0-.25.1-.25.25 v22 z
                   M6 32.25 H42"/>
        </g>
        <g id="mobile"
           style="transform-origin:24px 24px 0px;" transform="scale(2)"
           stroke-width="0.5" stroke-linecap="butt" >
          <rect id="mobile-base"
                fill="none" stroke="var(--outline-color)" stroke-width="1"
                width="23" height="47" x="12.5" y="0.5" ry="2.4"/>
          <rect id="mobile-inner-edge"
                width="22.5" height="46.5" x="12.75" y=".75" ry="2.2"/>
          <rect id="mobile-screen"
                fill="var(--white)" fill-opacity="0.95" stroke="none"
                width="22" height="40" x="13" y="3"/>
          <circle id="mobile-camera"
                  fill="var(--white)" fill-opacity="0.95" stroke="none"
                  cx="33" cy="1.5" r=".5"/>
          <path id="mobile-speaker"
                stroke="var(--mid-light-grey)"
                d="M23 1.5h2"/>
          <path id="mobile-microphone"
                stroke="var(--mid-light-grey)"
                d="M21 45.25h6"/>
        </g>
        <path id="key"
              fill="none"
              stroke-linecap="butt" stroke-linejoin="round" stroke-width="10"
              d="M0 0v12.7
              m33.6-12.7h-48.5v12.8
              m77.1-12.8c0 8.4-6.4 15.2-14.3 15.2-8 0-14.3-6.8-14.3-15.2 0-8.4 6.4-15.2 14.3-15.2 8 0 14.3 6.8 14.3 15.2z"/>
      </defs>

      <g id="group-a"
         fill="var(--group-a-color)" stroke="var(--group-a-outline)">
        <use xlink:href="#laptop" x="310" y="120"/>
        <use xlink:href="#laptop" x="70" y="120"/>
        <use xlink:href="#mobile" x="190" y="110"/>
        <use xlink:href="#key" x="170" y="120"
             stroke="var(--group-a-color)"
             transform="scale(.5)"/>
        <use xlink:href="#key" x="408" y="120"
            stroke="var(--group-a-color)"
            transform="scale(.5)"/>
       <use xlink:href="#key" x="650" y="120"
           stroke="var(--group-a-color)"
           transform="scale(.5)"/>
      </g>

      <g id="group-b"
         fill="var(--group-b-color)" stroke="var(--group-b-outline)">
        <use xlink:href="#laptop"
             x="-160" y="340"/>
        <use xlink:href="#key"
             x="-520" y="720"
             stroke="var(--group-b-color)"
             transform="scale(.5)"/>
        <use xlink:href="#laptop"
             x="-160" y="560"/>
        <use xlink:href="#key"
             x="-520" y="950"
             stroke="var(--group-b-color)"
             transform="scale(.5)"/>
        <use xlink:href="#mobile"
             x="-160" y="450"/>
        <use xlink:href="#key"
             x="-520" y="1170"
             stroke="var(--group-b-color)"
             transform="scale(.5)"/>
      </g>

      <g id="group-c"
         fill="var(--group-c-color)" stroke="var(--group-c-outline)">
        <use xlink:href="#laptop"
             x="90" y="810"/>
        <use xlink:href="#key"
             x="200" y="1800"
             stroke="var(--group-c-symbol-color)"
             transform="scale(.5)"/>
        <use xlink:href="#laptop"
             x="240" y="810"/>
        <use xlink:href="#key"
             x="505" y="1800"
             stroke="var(--group-c-symbol-color)"
             transform="scale(.5)"/>
        <use xlink:href="#mobile"
             x="368" y="802"/>
        <use xlink:href="#key"
             x="764" y="1800"
             stroke="var(--group-c-symbol-color)"
             transform="scale(.5)"/>
      </g>
    </g>

    <g id="arrows"
       stroke-width="4" stroke-linecap="round">

      <defs id="markers"
            stroke-linejoin="round" stroke-width="1">

        <marker id="marker-curve-a"
               orient="auto" overflow="visible" refX="0" refY="0">
          <path fill="none" stroke="var(--group-a-color)"
                d="M2.4 2.1l-3-2 3-2"/>
        </marker>

        <marker id="marker-curve-bottom"
               orient="auto" overflow="visible" refX="0" refY="0">
          <path fill="none" stroke="var(--group-c-symbol-color)"
                d="M2.4 2.1l-3-2 3-2"/>
        </marker>

        <marker id="marker-a"
               orient="auto" overflow="visible" refX="0" refY="0">
          <path fill="var(--group-a-color)" stroke="var(--group-a-color)"
                d="M-7,-4 L1.33,0 -7,4 -5,0z"/>
                   </marker>

        <marker id="marker-b"
               orient="auto" overflow="visible" refX="0" refY="0">
          <path fill="var(--group-b-color)" stroke="var(--group-b-color)"
                d="M-7,-4 L1.33,0 -7,4 -5,0z"/>
        </marker>

        <marker id="marker-c"
               orient="auto" overflow="visible" refX="0" refY="0">
          <path fill="var(--group-c-symbol-color)" stroke="var(--group-c-symbol-color)"
                d="M-7,-4 L1.33,0 -7,4 -5,0z"/>
        </marker>

      </defs>

      <g id="refresh-android"
         fill="none" stroke="var(--group-c-symbol-color)"
         marker-start="url(#marker-curve-bottom)"
         style="transform-origin:716px 710px 0px;">
        <path d="m 744.3,738.3 c -7.2,7.2 -17.2,11.7 -28.3,11.7 -22.1,0 -40,-17.9 -40,-40"/>
        <path d="m 687.7,681.7 c 7.2,-7.2 17.2,-11.7 28.3,-11.7 22.1,0 40,17.9 40,40"/>
      </g>

      <g id="refresh-iphone"
         fill="none" stroke="var(--group-a-color)"
         marker-start="url(#marker-curve-a)"
         style="transform-origin:716px 290px 0px;">
        <path d="m 744.3,318.3 c -7.2,7.2 -17.2,11.7 -28.3,11.7 -22.1,0 -40,-17.9 -40,-40"/>
        <path d="m 687.7,261.7 c 7.2,-7.2 17.2,-11.7 28.3,-11.7 22.1,0 40,17.9 40,40"/>
      </g>

      <g id="uploads">
        <path id="upload-a1"
              stroke="var(--group-a-color)"
              marker-end="url(#marker-a)"
              style="transform-origin:100px 182px 0px;"
              d="m 100,182 65,172"/>
        <path id="upload-a2"
              stroke="var(--group-a-color)"
              marker-end="url(#marker-a)"
              style="transform-origin:135px 182px 0px;"
              d="m 135,182 87.5,172.176"/>
        <path id="upload-b1"
              stroke="var(--group-b-color)"
              marker-end="url(#marker-b)"
              style="transform-origin:-84px 365px 0px;"
              d="m -87,365 110, 70"/>
        <path id="upload-b2"
              stroke="var(--group-b-color)"
              marker-end="url(#marker-b)"
              style="transform-origin:-110px 475px 0px;"
              d="m -110,475 134, -25"/>
        <path id="upload-b3"
              stroke="var(--group-b-color)"
              marker-end="url(#marker-b)"
              style="transform-origin:-110px 475px 0px;"
              d="m -110,475 h134"/>
        <path id="upload-b4"
              stroke="var(--group-b-color)"
              marker-end="url(#marker-b)"
              style="transform-origin:-88px 590px 0px;"
              d="m -88,590 l112, -19"/>
        <path id="upload-b5"
              stroke="var(--group-b-color)"
              marker-end="url(#marker-b)"
              style="transform-origin:-84px 365px 0px;"
              d="m -87,365 110, 30"/>
        <path id="upload-a3"
              stroke="var(--group-a-color)"
              marker-end="url(#marker-a)"
              style="transform-origin:340px 183px 0px;"
              d="m 340,183 -10,170"/>
        <path id="upload-c1"
              stroke="var(--group-c-symbol-color)"
              marker-end="url(#marker-c)"
              style="transform-origin:110px 798px 0px;"
              d="m 110,798 51,-195"/>
        <path id="upload-c3"
              stroke="var(--group-c-symbol-color)"
              marker-end="url(#marker-c)"
              style="transform-origin:385px 780px 0px;"
              d="m 385,780 -85,-180"/>
        <path id="upload-c2"
              stroke="var(--group-c-symbol-color)"
              marker-end="url(#marker-c)"
              style="transform-origin:250px 798px 0px;"
              d="m 250,798 5,-195"/>
        <path id="upload-c4"
              stroke="var(--group-c-symbol-color)"
              marker-end="url(#marker-c)"
              style="transform-origin:280px 798px 0px;"
              d="m 280,798 16,-195"/>
      </g>

      <path id="sync-request-iphone"
            stroke="var(--group-a-color)"
            marker-end="url(#marker-a)"
            style="transform-origin:632px 292px 0px;"
            d="M632 292L425.5 402"/>
      <path id="sync-request-android"
            stroke="var(--group-c-symbol-color)"
            stroke-width="4"
            marker-end="url(#marker-c)"
            style="transform-origin:630px 650px 0px;"
            d="M630 650L425.1 561.8" />
      <path id="response-files-iphone"
            stroke="var(--group-a-color)"
            marker-end="url(#marker-a)"
            style="transform-origin:425px 372px 0px;"
            d="M424 372L632 300" />
      <path id="response-files-android"
            fill="none" stroke="var(--group-c-symbol-color)"
            marker-end="url(#marker-c)"
            style="transform-origin:425px 555px 0px;"
            d="M425 555L630 680" />
    </g>

    <g id="labels"
      font-family="'Dosis', sans-serif" font-size="32"
      text-anchor="middle">
      <text id="label-pātaka"
            fill="var(--pātaka-label-color)"
            x="245" y="700"
            font-weight="bold"
            >Pātaka</text>
      <text id="label-member-a"
            fill="var(--group-a-outline)"
            x="715" y="496"
            >Member of Group A</text>
      <text id="label-member-a-b"
            fill="var(--group-a-outline)"
            x="715" y="496"
            >Member of Groups A &amp; B</text>
      <text id="label-member-c"
            fill="var(--group-c-outline)"
            x="715" y="920"
            >Member of Group C</text>

      <g id="group-labels"
         font-size="24">
        <text id="label-group-a"
              fill="var(--group-a-outline)"
              x="225" y="220"
              >Group A</text>
        <text id="label-group-b"
              fill="var(--group-b-outline)"
              x="-140" y="670"
              >Group B</text>
        <text id="label-group-c"
              fill="var(--group-c-outline)"
              x="225" y="945"
              >Group C</text>
      </g>

    </g>

  </g>

  <script>
    // <![CDATA[
    /* anime.js v3.2.0
    * (c) 2020 Julian Garnier
    * Released under the MIT license
    * animejs.com
    */

    !function (n,e) {
      "object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],t={CSS:{},springs:{}};function a(n,e,r){return Math.min(Math.max(n,e),r)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(r){return!n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&"targets"!==r&&"keyframes"!==r}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var r=c(n),o=a(i.und(r[0])?1:r[0],.1,100),u=a(i.und(r[1])?100:r[1],.1,100),s=a(i.und(r[2])?10:r[2],.1,100),f=a(i.und(r[3])?0:r[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,h=1,v=d<1?(d*l-f)/p:-f+l;function g(n){var r=e?e*n/1e3:n;return r=d<1?Math.exp(-r*d*l)*(h*Math.cos(p*r)+v*Math.sin(p*r)):(h+v*r)*Math.exp(-r*l),0===n||1===n?n:1-r}return e?g:function(){var e=t.springs[n];if(e)return e;for(var r=0,a=0;;)if(1===g(r+=1/6)){if(++a>=16)break}else a=0;var o=r*(1/6)*1e3;return t.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.ceil(a(e,1e-6,1)*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function r(n,e){return 1-3*e+3*n}function t(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((r(e,o)*n+t(e,o))*n+a(e))*n}function u(n,e,o){return 3*r(e,o)*n*n+2*t(e,o)*n+a(e)}return function(r,t,a,i){if(0<=r&&r<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(r!==t||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,r,a);return function(n){return r===t&&a===i?n:0===n||1===n?n:o(f(n),t,i)}}function f(t){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=t;++s)i+=e;var l=i+(t-c[--s])/(c[s+1]-c[s])*e,d=u(l,r,a);return d>=.001?function(n,e,r,t){for(var a=0;a<4;++a){var i=u(e,r,t);if(0===i)return e;e-=(o(e,r,t)-n)/i}return e}(t,l,r,a):0===d?l:function(n,e,r,t,a){for(var u,i,c=0;(u=o(i=e+(r-e)/2,t,a)-n)>0?r=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(t,i,i+e,r,a)}}}(),h=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var r=a(n,1,10),t=a(e,.1,2);return function(n){return 0===n||1===n?n:-r*Math.pow(2,10*(n-1))*Math.sin((n-1-t/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/t)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,r){return function(t){return 1-e(n,r)(1-t)}},l["easeInOut"+n]=function(n,r){return function(t){return t<.5?e(n,r)(2*t)/2:1-e(n,r)(-2*t+2)/2}}}),l);function v(n,e){if(i.fnc(n))return n;var r=n.split("(")[0],t=h[r],a=c(n);switch(r){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(t,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var r=n.length,t=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<r;o++)if(o in n){var u=n[o];e.call(t,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function x(n,e){return n.some(function(n){return n===e})}function M(n){var e={};for(var r in n)e[r]=n[r];return e}function w(n,e){var r=M(n);for(var t in n)r[t]=e.hasOwnProperty(t)?e[t]:n[t];return r}function k(n,e){var r=M(n);for(var t in e)r[t]=i.und(n[t])?e[t]:n[t];return r}function O(n){return i.rgb(n)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+r[1]+",1)":e:i.hex(n)?(t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,r,t){return e+e+r+r+t+t}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,r,t,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+6*(e-n)*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(0==u)e=r=t=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),r=s(l,f,o),t=s(l,f,o-1/3)}return"rgba("+255*e+","+255*r+","+255*t+","+c+")"}(n):void 0;var e,r,t,a}function C(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function B(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function P(n,e){return n.getAttribute(e)}function I(n,e,r){if(x([r,"deg","rad","turn"],C(e)))return e;var a=t.CSS[e+r];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+r;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return t.CSS[e+r]=s,s}function T(n,e,r){if(e in n.style){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(t)||"0";return r?I(n,a,r):a}}function D(n,e){return i.dom(n)&&!i.inp(n)&&(P(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&x(r,e)?"transform":i.dom(n)&&"transform"!==e&&T(n,e)?"css":null!=n[e]?"object":void 0}function E(n){if(i.dom(n)){for(var e,r=n.style.transform||"",t=/(\w+)\(([^)]*)\)/g,a=new Map;e=t.exec(r);)a.set(e[1],e[2]);return a}}function F(n,e,r,t){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=E(n).get(e)||u;return r&&(r.transforms.list.set(e,i),r.transforms.last=e),t?I(n,i,t):i}function N(n,e,r,t){switch(D(n,e)){case"transform":return F(n,e,t,r);case"css":return T(n,e,r);case"attribute":return P(n,e);default:return n[e]||0}}function A(n,e){var r=/^(\*=|\+=|-=)/.exec(n);if(!r)return n;var t=C(n)||0,a=parseFloat(e),o=parseFloat(n.replace(r[0],""));switch(r[0][0]){case"+":return a+o+t;case"-":return a-o+t;case"*":return a*o+t}}function L(n,e){if(i.col(n))return O(n);if(/\s/g.test(n))return n;var r=C(n),t=r?n.substr(0,n.length-r.length):n;return e?t+e:t}function j(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function S(n){for(var e,r=n.points,t=0,a=0;a<r.numberOfItems;a++){var o=r.getItem(a);a>0&&(t+=j(e,o)),e=o}return t}function q(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*P(o,"r");case"rect":return 2*P(a=n,"width")+2*P(a,"height");case"line":return j({x:P(t=n,"x1"),y:P(t,"y1")},{x:P(t,"x2"),y:P(t,"y2")});case"polyline":return S(n);case"polygon":return r=(e=n).points,S(e)+j(r.getItem(r.numberOfItems-1),r.getItem(0))}var e,r,t,a,o}function $(n,e){var r=e||{},t=r.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=t.getBoundingClientRect(),o=P(t,"viewBox"),u=a.width,c=a.height,s=r.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:t,viewBox:s,x:s[0]/1,y:s[1]/1,w:u/s[2],h:c/s[3]}}function X(n,e){function r(r){void 0===r&&(r=0);var t=e+r>=1?e+r:0;return n.el.getPointAtLength(t)}var t=$(n.el,n.svg),a=r(),o=r(-1),u=r(1);switch(n.property){case"x":return(a.x-t.x)*t.w;case"y":return(a.y-t.y)*t.h;case"angle":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}function Y(n,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=L(i.pth(n)?n.totalLength:n,e)+"";return{original:t,numbers:t.match(r)?t.match(r).map(Number):[0],strings:i.str(n)||e?t.split(r):[]}}function Z(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,r){return r.indexOf(n)===e})}function Q(n){var e=Z(n);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:E(n)}}})}function V(n,e){var r=M(e);if(/^spring/.test(r.easing)&&(r.duration=s(r.easing)),i.arr(n)){var t=n.length;2===t&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(r.duration=e.duration/t)}var a=i.arr(n)?n:[n];return a.map(function(n,r){var t=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(t.delay)&&(t.delay=r?0:e.delay),i.und(t.endDelay)&&(t.endDelay=r===a.length-1?e.endDelay:0),t}).map(function(n){return k(n,r)})}function z(n,e){var r=[],t=e.keyframes;for(var a in t&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),r={},t=function(t){var a=e[t];r[a]=n.map(function(n){var e={};for(var r in n)i.key(r)?r==a&&(e.value=n[r]):e[r]=n[r];return e})},a=0;a<e.length;a++)t(a);return r}(t),e)),e)i.key(a)&&r.push({name:a,tweens:V(e[a],n)});return r}function H(n,e){var r;return n.tweens.map(function(t){var a=function(n,e){var r={};for(var t in n){var a=B(n[t],e);i.arr(a)&&1===(a=a.map(function(n){return B(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(t,e),o=a.value,u=i.arr(o)?o[1]:o,c=C(u),s=N(e.target,n.name,c,e),f=r?r.to.original:s,l=i.arr(o)?o[0]:f,d=C(l)||C(s),p=c||d;return i.und(u)&&(u=f),a.from=Y(l,p),a.to=Y(A(u,l),p),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),r=a,a})}var G={css:function(n,e,r){return n.style[e]=r},attribute:function(n,e,r){return n.setAttribute(e,r)},object:function(n,e,r){return n[e]=r},transform:function(n,e,r,t,a){if(t.list.set(e,r),e===t.last||a){var o="";t.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function R(n,e){Q(n).forEach(function(n){for(var r in e){var t=B(e[r],n),a=n.target,o=C(t),u=N(a,r,o,n),i=A(L(t,o||C(u)),u),c=D(a,r);G[c](a,r,i,n.transforms,!0)}})}function W(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var r=D(n.target,e.name);if(r){var t=H(e,n),a=t[t.length-1];return{type:r,property:e.name,animatable:n,tweens:t,duration:a.end,delay:t[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function J(n,e){var r=n.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var K=0;var U,_=[],nn=[],en=function(){function n(){U=requestAnimationFrame(e)}function e(e){var r=_.length;if(r){for(var t=0;t<r;){var a=_[t];if(a.paused){var o=_.indexOf(a);o>-1&&(_.splice(o,1),r=_.length)}else a.tick(e);t++}n()}else U=cancelAnimationFrame(U)}return n}();function rn(r){void 0===r&&(r={});var t,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,h,v,g,y,b,x=(d=w(n,l=r),p=w(e,l),h=z(p,l),v=Q(l.targets),g=W(v,h),y=J(g,p),b=K,K++,k(d,{id:b,children:[],animatables:v,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(x);function M(){var n=x.direction;"alternate"!==n&&(x.direction="normal"!==n?"normal":"reverse"),x.reversed=!x.reversed,t.forEach(function(n){return n.reversed=x.reversed})}function O(n){return x.reversed?x.duration-n:n}function C(){o=0,u=O(x.currentTime)*(1/rn.speed)}function B(n,e){e&&e.seek(n-e.timelineOffset)}function P(n){for(var e=0,r=x.animations,t=r.length;e<t;){var o=r[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,h=[],v=s.to.numbers.length,g=void 0,y=0;y<v;y++){var b=void 0,M=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?X(s.value,l*M):w+l*(M-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),h.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],B=h[O];isNaN(B)||(g+=C?B+C:B+" ")}}else g=h[0];G[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function I(n){x[n]&&!x.passThrough&&x[n](x)}function T(n){var e=x.duration,r=x.delay,l=e-x.endDelay,d=O(n);x.progress=a(d/e*100,0,100),x.reversePlayback=d<x.currentTime,t&&function(n){if(x.reversePlayback)for(var e=c;e--;)B(n,t[e]);else for(var r=0;r<c;r++)B(n,t[r])}(d),!x.began&&x.currentTime>0&&(x.began=!0,I("begin")),!x.loopBegan&&x.currentTime>0&&(x.loopBegan=!0,I("loopBegin")),d<=r&&0!==x.currentTime&&P(0),(d>=l&&x.currentTime!==e||!e)&&P(e),d>r&&d<l?(x.changeBegan||(x.changeBegan=!0,x.changeCompleted=!1,I("changeBegin")),I("change"),P(d)):x.changeBegan&&(x.changeCompleted=!0,x.changeBegan=!1,I("changeComplete")),x.currentTime=a(d,0,e),x.began&&I("update"),n>=e&&(u=0,x.remaining&&!0!==x.remaining&&x.remaining--,x.remaining?(o=i,I("loopComplete"),x.loopBegan=!1,"alternate"===x.direction&&M()):(x.paused=!0,x.completed||(x.completed=!0,I("loopComplete"),I("complete"),!x.passThrough&&"Promise"in window&&(s(),f(x)))))}return x.reset=function(){var n=x.direction;x.passThrough=!1,x.currentTime=0,x.progress=0,x.paused=!0,x.began=!1,x.loopBegan=!1,x.changeBegan=!1,x.completed=!1,x.changeCompleted=!1,x.reversePlayback=!1,x.reversed="reverse"===n,x.remaining=x.loop,t=x.children;for(var e=c=t.length;e--;)x.children[e].reset();(x.reversed&&!0!==x.loop||"alternate"===n&&1===x.loop)&&x.remaining++,P(x.reversed?x.duration:0)},x.set=function(n,e){return R(n,e),x},x.tick=function(n){i=n,o||(o=i),T((i+(u-o))*rn.speed)},x.seek=function(n){T(O(n))},x.pause=function(){x.paused=!0,C()},x.play=function(){x.paused&&(x.completed&&x.reset(),x.paused=!1,_.push(x),C(),U||en())},x.reverse=function(){M(),x.completed=!x.reversed,C()},x.restart=function(){x.reset(),x.play()},x.reset(),x.autoplay&&x.play(),x}function tn(n,e){for(var r=e.length;r--;)x(n,e[r].animatable.target)&&e.splice(r,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(_.forEach(function(n){return n.pause()}),nn=_.slice(0),rn.running=_=[]):nn.forEach(function(n){return n.play()})}),rn.version="3.2.0",rn.speed=1,rn.running=_,rn.remove=function(n){for(var e=Z(n),r=_.length;r--;){var t=_[r],a=t.animations,o=t.children;tn(e,a);for(var u=o.length;u--;){var i=o[u],c=i.animations;tn(e,c),c.length||i.children.length||o.splice(u,1)}a.length||o.length||t.pause()}},rn.get=N,rn.set=R,rn.convertPx=I,rn.path=function(n,e){var r=i.str(n)?g(n)[0]:n,t=e||100;return function(n){return{property:n,el:r,svg:$(r),totalLength:q(r)*(t/100)}}},rn.setDashoffset=function(n){var e=q(n);return n.setAttribute("stroke-dasharray",e),e},rn.stagger=function(n,e){void 0===e&&(e={});var r=e.direction||"normal",t=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=C(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],x=s?(a[1]-1)/2:Math.floor(u/a[0]),M=b-v%a[0],w=x-Math.floor(v/a[0]),k=Math.sqrt(M*M+w*w);"x"===o&&(k=-M),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}t&&(m=m.map(function(n){return t(n/y)*y})),"reverse"===r&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},rn.timeline=function(n){void 0===n&&(n={});var r=rn(n);return r.duration=0,r.add=function(t,a){var o=_.indexOf(r),u=r.children;function c(n){n.passThrough=!0}o>-1&&_.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(t,w(e,n));f.targets=f.targets||n.targets;var l=r.duration;f.autoplay=!1,f.direction=r.direction,f.timelineOffset=i.und(a)?l:A(a,l),c(r),r.seek(f.timelineOffset);var d=rn(f);c(d),u.push(d);var p=J(u,n);return r.delay=p.delay,r.endDelay=p.endDelay,r.duration=p.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r},rn.easing=v,rn.penner=h,rn.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},rn
    });

    const tl = anime.timeline({
      autoplay: true,
      loop: true,
      duration: 500,
      easing: 'easeInOutQuad'
    })
    tl
      // start in the center
      .add({ targets: ['#group-a',
                       '#group-b',
                       '#group-c',
                       '#arrows',
                       '#labels'],
        translateX: [140, 140],
        duration: 16.7
      }, 0)
      .add({ targets: '#pātaka-imac',
        translateX: [160, 160],
        duration: 16.7
      }, 0)

      // HACK: ensure the unstyled svg doesn't appear when refreshing
      .add({ targets: '#everything',
        opacity: [0, 1],
        duration: 16.7
      }, 500)

      // introduce groups & pātaka
      .add({ targets: ['#group-a, #label-group-a',
          '#group-b, #label-group-b',
          '#group-c, #label-group-c'],
        opacity: [0, 1],
        delay: anime.stagger(600),
        duration: 1200
      }, 1000)
      .add({ targets: '#pātaka-imac',
        opacity: [0, 1],
        duration: 1200
      }, '+=300')
      .add({ targets: '#label-pātaka',
        opacity: [0, 1],
        duration: 1000
      }, '-=250')
      .add({ targets: '#pātaka-symbol',
        opacity: [1, 0],
        duration: 600
      }, '+=1400')

      // upload initial data
      .add({ targets: ['#upload-c1', '#upload-a1', '#upload-b1'],
        scale: [0, 0.9],
        delay: anime.stagger(400)
      }, '+=600')
      .add({ targets: ['#c1', '#a1', '#b1'],
        scale: [0, 1],
        delay: anime.stagger(400)
      }, '-=900')
      .add({ targets: ['#upload-c1', '#upload-a1', '#upload-b1'],
        opacity: [1, 0],
        duration: 400
      })
      .add({ targets: ['#upload-b2', '#upload-c2', '#upload-c3'],
        scale: [0, 0.9],
        delay: anime.stagger(400)
      }, '+=400')
      .add({ targets: ['#b2', '#c2', '#c3'],
        scale: [0, 1],
        delay: anime.stagger(400)
      }, '-=1100')
      .add({ targets: '#pātaka-files',
        translateX: [90, 60],
        duration: 800
      }, '-=1400')
      .add({ targets: ['#upload-b2', '#upload-c2', '#upload-c3'],
        opacity: [1, 0],
        duration: 400
      })

      // introduce iphone user
      .add({ targets: ['#group-a',
                  '#group-b',
                  '#group-c',
                  '#arrows',
                  '#labels'],
        translateX: [140, 0],
        easing: 'cubicBezier(0.66, 0.1, 0.54, 1)',
        duration: 1600
      }, '+=1000')
      .add({ targets: '#pātaka-imac',
        translateX: [160, 0],
        easing: 'cubicBezier(0.66, 0.1, 0.54, 1)',
        duration: 1600
      }, '-=1600')
      .add({ targets: '#label-pātaka',
        translateX: [0, -20],
        easing: 'cubicBezier(0.66, 0.1, 0.54, 1)',
        duration: 1600
      }, '-=1600')
      .add({ targets: '#iphone, #key-a',
        opacity: [0, 1],
        delay: anime.stagger(400),
        duration: 800
      }, '-=1200')
      .add({ targets: '#label-member-a',
        opacity: [0, 1],
        duration: 800
      }, '+=200')

      // introduce android user
      .add({ targets: '#android, #key-c',
        opacity: [0, 1],
        delay: anime.stagger(400),
        duration: 800
      }, '+=1000').add({ targets: '#label-member-c',
        opacity: [0, 1],
        duration: 800
      }, '+=200')
      .add({ targets: ['#label-pātaka',
                  '#label-group-a',
                  '#label-group-b',
                  '#label-group-c',
                  '#label-member-a',
                  '#label-member-c'],
        opacity: [1, 0],
      }, '+=2000')
      .add({ targets: '#group-a, #group-b, #group-c, #android, #key-c',
        opacity: [1, 0.5],
        duration: 1000
      }, '-=500')

      // initial sync iphone
      .add({ targets: '#refresh-iphone',
        keyframes: [
          { scale: [0, 1], duration: 500, easing: 'easeOutBack' },
          { rotate: [0, '-3turn'], duration: 1700 },
          { scale: [1, 0], duration: 400, easing: 'easeInOutCubic' }
        ],
        easing: 'easeInOutSine'
      }, '-=300')
      .add({ targets: '#sync-request-iphone',
        scale: [0, 0.9]
      }, '-=1000')
      .add({ targets: ['#c1-highlight',
                  '#a1-highlight',
                  '#b1-highlight',
                  '#b2-highlight',
                  '#c2-highlight',
                  '#c3-highlight'],
        scale: [0, 1],
        delay: anime.stagger(50)
      }, '-=100')
      .add({ targets: '#sync-request-iphone',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 1, duration: 16.7 }
        ]
      }, '+=250')
      .add({ targets: ['#c1-copy-to-iphone',
                  '#a1-copy-to-iphone',
                  '#b1-copy-to-iphone',
                  '#b2-copy-to-iphone',
                  '#c2-copy-to-iphone',
                  '#c3-copy-to-iphone'],
        scale: [1, 0],
        delay: anime.stagger(50)
      })
      .add({ targets: '#response-files-iphone',
        scale: [0, 0.9]
      }, '-=300')
      .add({ targets: ['#c1-highlight',
                  '#a1-highlight',
                  '#b1-highlight',
                  '#b2-highlight',
                  '#c2-highlight',
                  '#c3-highlight'],
        scale: [1, 0]
      }, '-=250')
      .add({ targets: ['#c1-iphone-locked',
                  '#a1-iphone-locked',
                  '#b1-iphone-locked',
                  '#b2-iphone-locked',
                  '#c2-iphone-locked',
                  '#c3-iphone-locked'],
        scale: [0, 1],
        delay: anime.stagger(100)
      })
      .add({ targets: '#response-files-iphone',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 1, duration: 16.7 }
        ]
      }, '+=500')

      // decrypt local data iphone
      .add({ targets: '#key-a',
        keyframes: [
          { translateX: [0, -96], duration: 300 },
          { translateX: [-96, -96], duration: 600 },
          { translateX: [-96, 0], duration: 300 }
        ]
      }, '+=500')
      .add({ targets: '#sync-1a-overlay',
        opacity: [0, 1]
      }, '-=800')
      .add({ targets: '#a1-iphone-highlight',
        keyframes: [
          { scale: [0, 1], duration: 300 },
          { scale: [1, 1], duration: 600 },
          { scale: [1, 0], duration: 300 }
        ]
      }, '-=700')
      .add({ targets: '#a1-iphone-locked',
        keyframes: [
          { translateY: [0, -222], duration: 400 },
          { translateX: [0, -40], duration: 200 },
          { translateX: [-40, -40], duration: 200 },
          { opacity: [1, 0], duration: 300 }
        ]
      })
      .add({ targets: '#a1-iphone',
        opacity: [0, 1],
        duration: 16.7
      }, '-=300')
      .add({ targets: '#sync-1a-overlay',
        opacity: [1, 0],
        duration: 300
      })

      // rearrange remaining locked files
      .add({ targets: ['#b1-iphone-locked',
                  '#c2-iphone-locked',
                  '#c3-iphone-locked'],
        translateX: [0, -40],
        duration: 200
      })
      .add({ targets: '#b2-iphone-locked',
        keyframes: [
          { translateX: [0, 80], duration: 200 },
          { translateY: [0, 42], duration: 400 }
        ]
      }, '-=200')
      .add({ targets: '#iphone, #key-a',
        opacity: [1, 0.5]
      }, '+=500')

        // initial sync android

      // initial sync android
      .add({ targets: '#android, #key-c',
        opacity: [0.5, 1],
        duration: 1000
      }, '-=500')
      .add({ targets: '#refresh-android',
        keyframes: [
          { scale: [0, 1], duration: 500, easing: 'easeOutBack' },
          { rotate: [0, '-3turn'], duration: 1700 },
          { scale: [1, 0], duration: 400, easing: 'easeInOutCubic' }
        ],
        easing: 'easeInOutSine'
      }, '-=300')
      .add({ targets: '#sync-request-android',
        scale: [0, 0.9]
      }, '-=1000')
      .add({ targets: ['#c1-highlight',
                  '#a1-highlight',
                  '#b1-highlight',
                  '#b2-highlight',
                  '#c2-highlight',
                  '#c3-highlight'],
        scale: [0, 1],
        delay: anime.stagger(50)
      }, '-=100')
      .add({ targets: '#sync-request-android',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 0, duration: 16.7 }
        ]
      }, '+=250')
      .add({ targets: ['#c1-copy-to-android',
                  '#a1-copy-to-android',
                  '#b1-copy-to-android',
                  '#b2-copy-to-android',
                  '#c2-copy-to-android',
                  '#c3-copy-to-android'],
        scale: [1, 0],
        delay: anime.stagger(50)
      })
      .add({ targets: '#response-files-android',
        scale: [0, 0.9]
      }, '-=300')
      .add({ targets: ['#c1-android-locked',
                  '#a1-android-locked',
                  '#b1-android-locked',
                  '#b2-android-locked',
                  '#c2-android-locked',
                  '#c3-android-locked'],
        scale: [0, 1],
        delay: anime.stagger(100)
      })
      .add({ targets: '#response-files-android',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 0, duration: 16.7 }
        ]
      }, '+=500')
      .add({ targets: ['#c1-highlight',
                  '#a1-highlight',
                  '#b1-highlight',
                  '#b2-highlight',
                  '#c2-highlight',
                  '#c3-highlight'],
        scale: [1, 0]
      }, '-=250')

        // decrypt local data android

      // decrypt local data android
      .add({ targets: '#key-c',
        keyframes: [
          { translateX: [0, -96], duration: 300 },
          { translateX: [-96, -96], duration: 600 },
          { translateX: [-96, 0], duration: 300 }
        ]
      }, '+=250')
      .add({ targets: '#sync-1c-overlay',
        opacity: [0, 1]
      }, '-=800')
      .add({ targets: ['#c1-android-highlight',
                  '#c2-android-highlight',
                  '#c3-android-highlight'],
        keyframes: [
          { scale: [0, 1], duration: 300 },
          { scale: [1, 1], duration: 600 },
          { scale: [1, 0], duration: 300 }
        ],
        delay: anime.stagger(50)
      }, '-=700')
      .add({ targets: '#c1-android-locked',
        keyframes: [
          { translateY: [0, -210], duration: 400 },
          { translateY: [-210, -210], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      })
      .add({ targets: ['#c2-android-locked',
                  '#c3-android-locked'],
        keyframes: [
          { translateY: [0, -168], duration: 400 },
          { translateY: [-168, -168], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ],
        delay: anime.stagger(100)
      }, '-=800')
      .add({ targets: ['#c1-android',
                  '#c2-android',
                  '#c3-android'],
        opacity: [0, 1],
        duration: 16.7,
        delay: anime.stagger(100)
      }, '-=800')
      .add({ targets: '#sync-1c-overlay',
        opacity: [1, 0],
        duration: 300
      })

      // rearrange remaining locked files
      .add({ targets: ['#a1-android-locked',
                  '#b1-android-locked'],
        translateX: [0, -40],
        duration: 200
      })
      .add({ targets: '#b2-android-locked',
        keyframes: [
          { translateX: [0, 80], duration: 200 },
          { translateY: [0, 42], duration: 400 }
        ]
      }, '-=200')
      .add({ targets: '#android, #key-c',
        opacity: [1, 0.5],
        duration: 1000
      })

      // second upload of data
      .add({ targets: '#group-a, #group-b, #group-c',
        opacity: [0.5, 1],
        duration: 1000
      }, '-=1000')
      .add({ targets: ['#upload-a2', '#upload-b3', '#upload-b4'],
        scale: [0, 0.9],
        delay: anime.stagger(400)
      }, '+=1000')
      .add({ targets: ['#a2', '#b3', '#b4'],
        scale: [0, 1],
        delay: anime.stagger(400)
      }, '-=900')
      .add({ targets: ['#upload-a2', '#upload-b3', '#upload-b4'],
        opacity: [1, 0],
        duration: 400
      }, '+=400')
      .add({ targets: ['#upload-c4', '#upload-b5', '#upload-a3'],
        scale: [0, 0.9],
        delay: anime.stagger(400)
      }, '+=400')
      .add({ targets: ['#c4', '#b5', '#a3'],
        scale: [0, 1],
        delay: anime.stagger(400)
      }, '-=1100')
      .add({ targets: '#pātaka-files',
        keyframes: [
          { translateX: [60, 30], duration: 600 },
          { translateX: [30, 30], duration: 1800 },
          { translateX: [30, 0], duration: 600 }
        ]
      }, '-=3600')
      .add({ targets: ['#upload-c4', '#upload-b5', '#upload-a3'],
        opacity: [1, 0],
        duration: 400
      }, '+=500')
      .add({ targets: '#group-a, #group-c, #pātaka-imac',
        opacity: [1, 0.5]
      })

      // iphone user is made member of group b
      .add({ targets: '#key-b',
        keyframes: [
          { translateX: [-1028, -1028], translateY: [50, 0], opacity: [0, 1], easing: 'easeInOutQuint', duration: 500 },
          { translateX: [-1028, 0], easing: 'easeInOutQuint', duration: 1200 }
        ]
      }, '+=1000')
      .add({ targets: '#iphone, #key-a',
        opacity: [0.5, 1],
        duration: 1000
      }, '-=1200')
      .add({ targets: '#group-b',
        opacity: [1, 0.5]
      }, '-=1200')
      .add({ targets: '#label-member-a-b',
        opacity: [0, 1],
        duration: 1000
      }, '+=300')

      // decrypt local group b data
      .add({ targets: '#key-b',
        keyframes: [
          { translateX: [0, -96], duration: 300 },
          { translateX: [-96, -96], duration: 600 },
          { translateX: [-96, 0], duration: 300 }
        ]
      }, '+=500')
      .add({ targets: '#sync-1b-overlay',
        opacity: [0, 1]
      }, '-=800')
      .add({ targets: ['#b1-iphone-highlight',
                  '#b2-iphone-highlight'],
        keyframes: [
          { scale: [0, 1], duration: 300 },
          { scale: [1, 1], duration: 600 },
          { scale: [1, 0], duration: 300 }
        ],
        delay: anime.stagger(50)
      }, '-=700')
      .add({ targets: '#b1-iphone-locked',
        keyframes: [
          { translateY: [0, -222], duration: 400 },
          { translateY: [-222, -222], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      })
      .add({ targets: '#b2-iphone-locked',
        keyframes: [
          { translateY: [42, -180], duration: 400 },
          { translateY: [-180, -180], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      }, '-=1050')
      .add({ targets: ['#b1-iphone',
                  '#b2-iphone'],
        translateX: [0, 40],
        translateY: [0, -42],
        opacity: [0, 1],
        duration: 16.7,
        delay: anime.stagger(100)
      }, '-=400')
      .add({ targets: '#sync-1b-overlay',
        opacity: [1, 0],
        duration: 300
      })

      // rearrange remaining locked files
      .add({ targets: ['#c2-iphone-locked',
                  '#c3-iphone-locked'],
        keyframes: [
          { translateX: [-40, 0], duration: 200 },
          { translateY: [0, 42], duration: 400 }
        ],
        delay: anime.stagger(50)
      })

      // second sync iphone
      .add({ targets: '#pātaka-imac',
        opacity: [0.5, 1]
      }, '+=300')
      .add({ targets: '#refresh-iphone',
        keyframes: [
          { scale: [0, 1], duration: 500, easing: 'easeOutBack' },
          { rotate: [0, '-3turn'], duration: 1700 },
          { scale: [1, 0], duration: 400, easing: 'easeInOutCubic' }
        ],
        easing: 'easeInOutSine'
      }, '+=300')
      .add({ targets: '#sync-request-iphone',
        scale: [0, 0.9]
      }, '-=1000')
      .add({ targets: '#pātaka-overlay',
        opacity: [0, 1]
      }, '-=350')
      .add({ targets: ['#a2-highlight',
                  '#b3-highlight',
                  '#b4-highlight',
                  '#c4-highlight',
                  '#b5-highlight',
                  '#a3-highlight'],
        scale: [0, 1],
        delay: anime.stagger(50)
      }, '-=200')
      .add({ targets: '#sync-request-iphone',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 1, duration: 16.7 }
        ]
      }, '-=1000')
      .add({ targets: ['#a2-copy-to-iphone',
                  '#b3-copy-to-iphone',
                  '#b4-copy-to-iphone',
                  '#c4-copy-to-iphone',
                  '#b5-copy-to-iphone',
                  '#a3-copy-to-iphone'],
        scale: [1, 0],
        delay: anime.stagger(50)
      })
      .add({ targets: '#response-files-iphone',
        scale: [0, 0.9]
      }, '-=300')
      .add({ targets: ['#pātaka-overlay',
                  '#a2-highlight',
                  '#b3-highlight',
                  '#b4-highlight',
                  '#c4-highlight',
                  '#b5-highlight',
                  '#a3-highlight'],
        opacity: [1, 0]
      }, '-=250')
      .add({ targets: ['#a2-iphone-locked',
                  '#b3-iphone-locked',
                  '#b4-iphone-locked',
                  '#c4-iphone-locked',
                  '#b5-iphone-locked',
                  '#a3-iphone-locked'],
        scale: [0, 1],
        delay: anime.stagger(50)
      })
      .add({ targets: '#response-files-iphone',
        keyframes: [
          { opacity: [1, 0], duration: 500 },
          { scale: 0, opacity: 1, duration: 16.7 }
        ]
      }, '+=500')

      // decrypt local data (second sync iphone)
      .add({ targets: '#key-a',
        keyframes: [
          { translateX: [0, -96], duration: 300 },
          { translateX: [-96, -96], duration: 600 },
          { translateX: [-96, 0], duration: 300 }
        ],
        delay: anime.stagger(600)
      }, '+=500')
      .add({ targets: '#sync-2a-overlay',
        opacity: [0, 1]
      }, '-=800')
      .add({ targets: ['#a2-iphone-highlight',
                  '#a3-iphone-highlight'],
        keyframes: [
          { scale: [0, 1], duration: 300 },
          { scale: [1, 1], duration: 600 },
          { scale: [1, 0], duration: 300 }
        ],
        delay: anime.stagger(50)
      }, '-=1300')
      .add({ targets: ['#b1-iphone',
                  '#b2-iphone'],
        keyframes: [
          { translateY: [-42, 0], duration: 400 },
          { translateX: [40, 0], duration: 400 }
        ],
        delay: anime.stagger(50)
      }, '-=200')
      .add({ targets: '#a2-iphone-locked',
        keyframes: [
          { translateX: [0, 40], duration: 200 },
          { translateY: [0, -180], duration: 400 },
          { translateY: [-180, -180], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      }, '-=400')
      .add({ targets: '#a3-iphone-locked',
        keyframes: [
          { translateY: [0, -138], duration: 400 },
          { translateY: [-138, -138], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      }, '-=1050')
      .add({ targets: ['#a2-iphone',
                  '#a3-iphone'],
        opacity: [0, 1],
        duration: 16.7,
        delay: anime.stagger(100)
      }, '-=400')
      .add({ targets: ['#a2-iphone',
                  '#a3-iphone'],
        opacity: [1, 1],
        duration: 1000,
        delay: anime.stagger(100)
      })
      .add({ targets: '#sync-2a-overlay',
          opacity: [1, 0],
          duration: 300
      }, '-=800')

      // rearrange remaining locked files
      .add({ targets: ['#b3-iphone-locked',
                  '#b4-iphone-locked'],
        translateX: [0, -40],
        duration: 200,
        delay: anime.stagger(50)
      })
      .add({ targets: '#c4-iphone-locked',
        keyframes: [
          { translateX: [0, 80] },
          { translateY: [0, 42] }
        ],
        duration: 400
      }, '-=200')
      .add({ targets: '#b5-iphone-locked',
        translateX: [0, -40],
        duration: 200
      }, '-=350')
      .add({ targets: '#b5-iphone-locked',
        translateX: [-40, -40],
        duration: 2000
      })

      // decrypt iphone with key-b
      .add({ targets: '#key-b',
        keyframes: [
          { translateX: [0, -96], duration: 300 },
          { translateX: [-96, -96], duration: 600 },
          { translateX: [-96, 0], duration: 300 }
        ],
        delay: anime.stagger(600)
      }, '+=250')
      .add({ targets: '#sync-2b-overlay',
        opacity: [0, 1]
      }, '-=800')
      .add({ targets: ['#b3-iphone-highlight',
                  '#b4-iphone-highlight',
                  '#b5-iphone-highlight'],
        keyframes: [
          { scale: [0, 1], duration: 300 },
          { scale: [1, 1], duration: 600 },
          { scale: [1, 0], duration: 300 }
        ],
        delay: anime.stagger(50)
      }, '-=1300')
      .add({ targets: '#b3-iphone-locked',
        keyframes: [
          { translateY: [0, -96], duration: 400 },
          { translateX: [-40, 40], duration: 200 },
          { translateY: [-96, -138], duration: 200 },
          { translateY: [-138, -138], duration: 400 },
          { opacity: [1, 0], duration: 300 }    //1500ms
        ]
      }, '-=200')
      .add({ targets: '#b3-iphone',
        opacity: [0, 1],
        duration: 16.7
      }, '-=500')
      .add({ targets: '#b4-iphone-locked',
        keyframes: [
          { translateY: [0, -96], duration: 400 },
          { translateX: [-40, -80], duration: 200 },
          { translateX: [-80, -80], duration: 400 },
          { opacity: [1, 0], duration: 300 }    //1350ms
        ]
      }, '-=1450')
      .add({ targets: '#b4-iphone',
        opacity: [0, 1],
        duration: 16.7
      }, '-=500')
      .add({ targets: '#b5-iphone-locked',
        keyframes: [
          { translateX: [-40, 0], duration: 200 },
          { translateY: [0, -54], duration: 300 },
          { translateY: [-54, -54], duration: 400 },
          { opacity: [1, 0], duration: 300 }
        ]
      }, '-=1400')
      .add({ targets: '#b5-iphone',
        opacity: [0, 1],
      }, '-=500')
      .add({ targets: '#sync-2b-overlay',
        opacity: [1, 0],
        duration: 300
      }, '-=800')

      // rearrange remaining locked files
      .add({ targets: '#c4-iphone-locked',
        translateX: [80, 0],
        duration: 200
      })
      .add({ targets: '#everything',
        opacity: [1, 0],
        duration: 1000
      }, '+=5000')

    // ]]>
  </script>
</svg>
